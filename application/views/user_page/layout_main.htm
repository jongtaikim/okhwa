<!DOCTYPE html>
<html lang="ko" class="white" style="background-color: #fff">
<head>
  <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=0.7, maximum-scale=2, user-scalable=no">
    <meta name="description" content="">

    <meta http-equiv="X-UA-Compatible" content="IE=11"/>
    <style type="text/css" title="">
        @import url(http://fonts.googleapis.com/earlyaccess/nanumgothic.css);
        /* reset */
        body,div,ul,li,dl,dt,dd,ol,p,h1,h2,h3,h4,h5,h6,from{margin:0; padding:0;font-family: "Nanum Gothic", sans-serif;}
    </style>
    <link rel="stylesheet" href="/uiset/assets/styles/app.css" type="text/css" />
    <link rel="stylesheet" href="/trunk/libs/assets/animate.css/animate.css" type="text/css" />
    <link rel="stylesheet" href="/trunk/libs/assets/font-awesome-4.6.3/css/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="/trunk/libs/jquery/waves/dist/waves.css" type="text/css" />
    <link rel="stylesheet" href="/trunk/styles/material-design-icons.css" type="text/css" />
    <link rel="stylesheet" href="/uiset/assets/styles/now_to.css" type="text/css" />

    <link rel="stylesheet" href="/trunk/libs/jquery/bootstrap/dist/css/bootstrap.css" type="text/css" />


    <link rel="stylesheet" href="./css/sub.css" type="text/css" />
    <script src="/trunk/libs/jquery/jquery/dist/jquery.js"></script>
    <script src="/trunk/scripts/underscore-min.js" type="text/javascript"></script>
    <script src="/trunk/scripts/backbone-min.js" type="text/javascript"></script>
  <!-- endbuild -->
  <!-- jQuery -->

  <!--[if lt IE 9]> <script src="/trunk/scripts//ie/html5shiv.js"></script> <script src="/trunk/scripts/ie/respond.min.js"></script> <script src="/trunk/scripts/ie/excanvas.js"></script> <![endif]-->

    <link rel="stylesheet" href="/designs/<?=HOST?>/css/main.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="/designs/<?=HOST?>/css/sub.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="/designs/<?=HOST?>/css/default.css?v=1" type="text/css" media="screen" />

    <title>{? HOST == 'jade9'}제이드나인{:}옥화용소절경펜션{/}</title>
    <script type="text/javascript">
        var no_top ='';
        function s_top() {
            if(!no_top) {
                $(window).scrollTop(0);
            }else{
                no_top='';
            }
        }
    </script>
</head>

<body class="white ">

<div class="autoheight autowidth_full opa50 hide pos_a " id="backdrops" style=" background-color: #000;opacity:.5;filter:alpha(opacity=50);z-index:1000"></div>

<div id="loading" class=" pos_a autoheight hide " style="z-index:999;top:0px;left:0px;width:100%;    background-color: rgba(0, 0, 0, 0.12);">
    <div class="" style="text-align: left; width: 100px;margin: 20% auto;">
        <i class="fa fa-spinner  fa-spin fa-3x fa-fw" style="font-size:90px"></i>
    </div>
</div>




{#TOP}
<div id="wrap">
    <div id="container">
        <div id="contents" class="pos_r">
            <div class="section" id="content-box">

            </div>
        </div>
    </div>
</div>
{#FOOT}




{? popup_contents}
	{? popup_use == 'y'}
	<div id="layer_popup" style="position: fixed; z-index: 90;  top: 209px; left: 50%; display: none;">
		<div id="m3pop-m3pop" style="display:block;position:relative">
			<div style="text-align:right;position:relative;">
				<a href="#close" class="btn_ly_close"></a>
			</div>
			<div class="layerPopupBody" style="width:100%;height:100%;z-index:999;">
				<div id="layer_popup_title" style="display: none;">팝업창 안내 공지</div>
				<div class="white" id="popup_body">{popup_contents}</div>
			</div>
			<div class="pop-ck-controller fbox pop-ck-closer" style="background-color:#000;padding:0px;padding-top:5px">
				<p>
					<input type="checkbox" name="killpop" id="chkagree" class="killpop m-l10 " >
					<label for="chkagree" style="color:#fff">이 창을 <span id="num_kill_t">1</span>일동안 열지 않기</label>
				</p>
			</div>
		</div>
	</div>

	<script type="text/javascript">
	$(document).ready(function(){
		if(!$.cookie('ck-pop1')){

			$('#layer_popup,#layer_popup_ifr,#m3pop-m3pop').show();
            $('#layer_popup').css('margin-left', "-"+($('#popup_body').width()/3)+'px' );
            $('.btn_ly_close').click(function(){
				$('#m3pop-m3pop').hide();
			});
            $('#chkagree').click(function(){
				$.cookie('ck-pop1', '1', { expires : parseInt(1) });
				$('#m3pop-m3pop').hide();
			});
		}
    });
	</script>
	{/}
{/}


<script type="text/javascript">
// <![CDATA[
function ifr_view(url){
	$('#ifrModal').modal('show');
	$('#ifr_data').attr('src',url);
}

function popup_view(url,w,h){
	if(!w) w = 800;
	if(!h) h = 600;

	 cw=screen.availWidth;     //화면 넓이
	 ch=screen.availHeight;    //화면 높이


	 ml=(cw-w)/2;        //가운데 띄우기위한 창의 x위치
	 mt=(ch-h)/2;         //가운데 띄우기위한 창의 y위치

	var myWindow = window.open(url, "tomew", "toolbar=no, scrollbars=yes, resizable=yes, top="+mt+", left="+ml+", width="+w+", height="+h);
}

// ]]>
</script>

<!-- Bootstrap -->
  <script src="/uiset/libs/jquery/tether/dist/js/tether.min.js"></script>
  <script src="/uiset/libs/jquery/bootstrap/dist/js/bootstrap.js"></script>
<!-- core -->
  <script src="/uiset/libs/jquery/underscore/underscore-min.js"></script>
  <script src="/uiset/libs/jquery/routie/dist/routie.js"></script>
  <script src="/uiset/libs/jquery/jQuery-Storage-API/jquery.storageapi.min.js"></script>
  <script src="/uiset/libs/jquery/PACE/pace.min.js"></script>
  <script src="scripts/ui-include.js"></script>
  <script src="scripts/app.js"></script>
  <script src="scripts/config.js"></script>
  <script src="scripts/config.lazyload.js"></script>
  <script src="scripts/palette.js"></script>
  <script src="scripts/ui-form.js"></script>
  <script src="scripts/ui-jp.js"></script>
  <script src="scripts/ui-load.js"></script>
  <script src="scripts/ui-nav.js"></script>
  <script src="scripts/ui-screenfull.js"></script>
  <script src="scripts/ui-scroll-to.js"></script>
  <script src="scripts/ui-toggle-class.js"></script>
  <script src="/trunk/scripts/jquery.cookie.js"></script>
  <script src="./js/common.js"></script>

  <script type="text/javascript" src="/trunk/scripts/php.js"></script>
<script type="text/javascript" src="/trunk/scripts/app.src.js"></script>
<script type="text/javascript" src="/trunk/scripts/jquery.cookie.js"></script>
<script type="text/javascript" src="/trunk/libs/jquery/bootbox/bootbox.js"></script>

<!-- endbuild -->

<script type="text/javascript">
    var noloading;
    var appRouter;
    $(function() {

        var AppRouter = Backbone.Router.extend({
            routes: {
                ":route": "display",
                ":route/": "display",
                ":route/:page": "display",
                ":route/:page/": "display",
                ":route/:page/:seg": "display",
                ":route/:page/:seg/": "display",
                ":route/:page/:seg/:tp": "display",
                ":route/:page/:seg/:tp/": "display",
                ":route/:page/:seg/:tp/:rp": "display",
                ":route/:page/:seg/:tp/:rp/": "display",
                ":route/:page/:seg/:tp/:rp/:ut": "display",
                ":route/:page/:seg/:tp/:rp/:ut/": "display",
                ":route/:page/:seg/:tp/:rp/:ut": "display",
                ":route/:page/:seg/:tp/:rp/:ut/:at": "display",
                ":route/:page/:seg/:tp/:rp/:ut/:at/": "display",
                ":route/:page/:seg/:tp/:rp/:ut/:at/:bt": "display",
                ":route/:page/:seg/:tp/:rp/:ut/:at/:bt/": "display",
            },

            display: function(route, page, seg,tp,rp,ut,at,bt) {
                var url = route;
                if(page) {
                    url = route + '/' + page;

                    if(seg){
                        url += ('/' + seg);
                    }
                    if(tp){
                        url += ('/' + tp);
                    }
                    if(rp){
                        url += ('/' + rp);
                    }
                    if(ut){
                        url += ('/' + ut);
                    }
                    if(at){
                        url += ('/' + at);
                    }
                    if(bt){
                        url += ('/' + bt);
                    }
                }

                 loading_start();
                $.ajax({
                    type: 'get',
                    url: url,
                    data: {},
                    dataType: 'html',
                    error: function(xhr, e){
                        console.log(e);
                        console.log(xhr);
                    },
                    success: function(html, textStatus, xhr) {
                        $('#content-box').html(html);
                        bootbox.hideAll();
                        s_top();
                    },
                    complete: function(xhr, textStatus) {
                        loading_end();
                    }
                });
                //endLoading(); // 한번 더 호출
            }
        });

        appRouter = new AppRouter();
        Backbone.history.start();

        // route가 변경될 때마다
        appRouter.bind("all",function(route, router) {
           /* clearInterval(monitorTimerId);
            clearInterval(multiviewTimerId);*/
        });
    });

    function loading_start() {
        $('.autoheight').height($(document).height());
        if(!noloading) $('#loading').show();
    }

    function loading_end() {

         $('#loading').hide();
    }
    $( document ).ajaxStart(function() {
        loading_start();
    });


    $( document ).ajaxComplete(function() {
        winset();
        loading_end();
    });

    $(document).ready(function () {
        if (!window.location.hash) {
           window.location = "#/user/page/main";
            winset();
        }
    });

    function winset(){

        $('.autoheight').height($(document).height());
        $('.pos_center').center();
        $('.pos_center_w').center_w();

    }

    $(document).ready(function (){
        winset();
        //  winset_init();
    });
    $(window).resize(function(){
        winset();
    });


    jQuery.fn.center = function () {
        this.css("position","absolute");
        this.css("top", Math.max(0, (($(window).height() - $(this).outerHeight()) / 2)  ) + "px");
        this.css("left", Math.max(0, (($(window).width() - $(this).outerWidth()) / 2)  ) + "px");
        return this;
    }
    jQuery.fn.center_w = function () {
        this.css("position","absolute");
        this.css("left", Math.max(0, (($(window).width() - $(this).outerWidth()) / 2)  ) + "px");
        return this;
    }

    function pv_layer(url,title){
        //encodeURIComponent()
        $.ajax({
            type: 'GET',
            url: url,

            dataType: 'html',
            success: function(html, status) {
                bootbox.alert({
                    message:html,
                    size:'large',
                    'title':title,
            });

            },
            error: function(request,status,error) {
                alert(request.responseText);
            }
        });
    }

</script>
</body>
</html>
